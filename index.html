<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Solaroids!</title>
    <script src="lib/util.js"></script>
    <script src="lib/movingObject.js"></script>
    <script src="lib/solaroid.js"></script>
    <script src="lib/game.js"></script>
    <script src="lib/gameView.js"></script>
    <script src="lib/ship.js"></script>
    <script src="lib/beam.js"></script>
    <script src="lib/healthBar.js"></script>
    <script src="lib/asteroid.js"></script>
    <script src="keymaster/keymaster.js"></script>
    <style>
      body, html {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        border: 0;
        overflow: hidden;
      }
      canvas {
        position: absolute;
      }
    </style>

  </head>
  <body>
    <canvas id="game-canvas"></canvas>
    <script type="application/javascript">
      var canvasEl = document.getElementById("game-canvas");
      canvasEl.height = window.innerHeight;
      canvasEl.width = window.innerWidth;
      var ctx = canvasEl.getContext("2d");
      var game = new Solaroids.Game(
        canvasEl.width,
        canvasEl.height,
        20,
        20
      )
      var gameView = new Solaroids.GameView(game, ctx);
      gameView.start();
      key("p", function () {
        if(game.over) {
          console.log(gameView.intervalID);
          clearInterval(gameView.intervalID);
          game = new Solaroids.Game(
            canvasEl.width,
            canvasEl.height,
            20,
            20
          );
          gameView = new Solaroids.GameView(game, ctx);
          gameView.start();
          return false;
        }
      }.bind(this));

    </script>
  </body>
</html>
